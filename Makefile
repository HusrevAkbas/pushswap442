CFLAGS := -Wall -Wextra -Werror

LIBFT := libft

LIBFTA := libcheck

SRC := list.c moves.c push_swap.c stacks.c utils.c moves_more.c stacks_more.c

OBJ := $(SRC:.c=.o)

NAME := push_swap
#| paste - - - - - - -
TEST1 = ./${NAME} 96 88 73 25 79 4 97 7 16 12 84 52 31 71 70 99 11 17 87 66 62 33 34 6 15 21 94 77 48 92 20 60 69 9 24 40 85 61 63 82 55 91 14 5 26 28 75 3 67 22 23 59 58 86 45 10 90 35 2 8 101 100 53 50 13 56 39 95 78 32 1 93 37 51 80 29 57 36 18 64 27 68 42 44 54 0 98 72 38 76 49 19 30 74 47 43 81 83 89 65
TEST100 = ./${NAME} 31 19 26 4 18 12 63 23 22 100 14 87 44 74 77 86 53 33 29 46 41 34 16 60 58 3 62 28 43 97 21 66 57 90 98 42 6 50 52 24 79 88 38 45 55 92 83 40 9 80 32 71 82 93 54 85 17 70 94 49 10 47 76 78 68 65 7 56 48 64 36 39 95 81 96 84 75 35 8 1 61 51 91 89 72 69 2 59 67 99 73 5 27 20 13 37 11 30 15 25
TEST3 = ./${NAME} "9 11 10 7"
TEST500 = ./${NAME} 191 310 317 291 56 286 391 237 249 200 274 153 333 292 243 380 33 423 494 19 211 290 466 279 205 217 55 66 220 417 15 25 402 82 400 452 216 29 431 450 94 438 209 127 109 48 62 263 228 477 185 367 373 7 38 412 57 199 152 386 426 84 265 5 83 148 278 369 432 336 3 87 299 22 320 451 121 280 406 250 12 93 401 46 471 54 393 253 16 395 379 203 162 11 226 98 116 229 176 434 34 188 89 147 255 446 346 363 61 276 238 329 99 473 18 464 14 181 335 140 246 50 289 427 421 107 443 35 202 254 285 389 468 51 492 499 364 248 70 119 221 376 485 308 179 222 350 298 60 130 108 326 86 359 463 171 293 354 158 24 456 283 418 435 31 4 461 459 168 362 92 357 495 301 398 239 184 149 128 10 257 234 154 275 235 45 97 368 8 160 196 309 392 315 142 182 378 385 419 183 180 122 232 312 197 460 338 157 319 225 413 172 186 65 281 63 260 491 224 6 442 271 236 454 405 371 23 390 210 366 490 428 204 465 314 32 173 71 306 144 322 409 231 2 80 13 230 358 165 244 103 287 360 489 112 20 129 175 113 328 156 303 420 408 330 212 273 242 343 111 331 388 47 355 356 399 136 161 240 375 480 475 28 208 77 415 114 134 277 37 245 270 53 88 493 164 339 497 440 151 102 470 404 43 324 397 59 467 411 410 49 110 414 372 227 135 213 288 469 361 223 39 416 304 58 269 72 143 479 218 105 439 85 496 394 342 381 138 472 252 484 307 272 300 433 26 382 78 96 370 104 247 352 170 36 1 267 268 41 91 40 201 166 90 476 145 396 447 483 340 436 384 30 192 302 123 429 169 141 441 445 345 146 233 425 334 458 214 347 44 159 282 430 256 377 133 296 313 132 64 327 137 68 73 21 449 332 81 198 215 139 444 365 193 117 457 241 258 131 76 474 118 126 259 79 455 437 481 155 498 120 387 261 194 187 163 353 74 190 264 95 422 325 27 407 321 207 69 448 67 311 383 486 75 337 318 174 206 178 297 374 482 462 341 500 42 284 115 295 316 453 251 348 195 351 219 167 124 52 403 305 266 344 262 323 100 17 294 349 487 9 478 424 150 125 106 488 189 177 101
TEST2 = ./${NAME} -3 4 12 33 77 || true
TEST = ${TEST1}

all: ${NAME} clean
#	-${TEST2}
	-${TEST}

${NAME}: ${OBJ} ${LIBFTA}
	@-cc -g ${CFLAGS} ${OBJ} -L ${LIBFT} -lft -o ${NAME}

${OBJ}: ${SRC}
	@- cc -g -c ${CFLAGS} ${SRC}

${LIBFTA}:
	@- ${MAKE} -C ${LIBFT} bonus clean
	touch ${LIBFTA}

clean:
#@ ${MAKE} -C ${LIBFT} clean
	@- rm -f ${OBJ}

fclean: clean
	@ ${MAKE} -C ${LIBFT} fclean
	rm -f ${NAME} ${LIBFTA}

re: fclean all

val: all
	@valgrind -s --leak-check=yes --show-leak-kinds=all --track-origins=yes ${TEST}

fun: all
	@funcheck ${TEST}

run:
	./${NAME}