CFLAGS := -Wall -Wextra -Werror

LIBFT := libft

LIBFTA := libcheck

SRC := $(wildcard *.c)

OBJ := $(SRC:.c=.o)

NAME := push_swap
#| paste - - - - - - -
TEST1 = ./${NAME} 96 88 73 25 79 4 97 7 16 12 84 52 31 71 70 99 11 17 87 66 62 33 34 6 15 21 94 77 48 92 20 60 69 9 24 40 85 61 63 82 55 91 14 5 26 28 75 3 67 22 23 59 58 86 45 10 90 35 2 8 101 100 53 50 13 56 39 95 78 32 1 93 37 51 80 29 57 36 18 64 27 68 42 44 54 0 98 72 38 76 49 19 30 74 47 43 81 83 89 65
TEST100 = ./${NAME} 31 19 26 4 18 12 63 23 22 100 14 87 44 74 77 86 53 33 29 46 41 34 16 60 58 3 62 28 43 97 21 66 57 90 98 42 6 50 52 24 79 88 38 45 55 92 83 40 9 80 32 71 82 93 54 85 17 70 94 49 10 47 76 78 68 65 7 56 48 64 36 39 95 81 96 84 75 35 8 1 61 51 91 89 72 69 2 59 67 99 73 5 27 20 13 37 11 30 15 25
TEST3 = ./${NAME} 19 1 10 3 6 4 5 2 7 8
TEST500 = ./${NAME} 94 368 440 55 75 495 282 413 72 81 22 455 10 318 235 252 12 263 67 167 357 29 199 342 328 126 412 115 152 261 418 159 132 232 120 330 416 443 143 335 492 334 191 96 262 293 310 349 85 294 450 407 470 476 113 188 307 392 87 461 141 46 173 421 183 6 369 395 432 16 347 123 494 50 265 258 473 181 424 295 360 57 425 329 291 99 396 391 83 306 47 73 236 312 244 344 177 184 158 204 93 119 400 301 275 248 100 25 206 260 175 165 466 498 358 475 442 279 186 247 76 487 11 382 170 404 196 285 397 134 150 340 89 237 238 48 499 61 256 444 74 216 460 225 116 456 326 375 43 226 287 378 59 257 266 138 5 33 271 27 288 352 447 112 88 314 40 379 58 333 410 36 3 140 445 496 387 31 377 155 179 136 130 151 384 102 284 372 489 276 493 147 300 107 79 370 417 176 52 451 436 472 39 133 332 104 38 137 480 488 327 419 239 465 361 317 20 337 388 389 264 160 431 229 149 454 356 110 18 459 305 222 385 353 154 351 321 163 426 434 427 439 65 182 114 474 211 92 281 259 313 255 398 80 200 4 24 217 339 242 34 214 500 228 9 144 213 486 433 376 471 95 441 267 218 402 497 221 233 245 458 482 121 234 297 457 290 26 254 70 243 54 111 42 429 180 359 390 227 280 274 7 386 435 381 41 129 374 23 30 156 363 161 406 405 105 207 32 246 205 462 190 91 485 139 118 490 448 403 479 51 145 345 320 268 162 380 223 394 467 399 355 14 69 125 364 408 463 103 251 338 86 478 77 166 292 164 420 203 415 178 68 135 422 168 296 411 84 208 35 172 106 169 19 21 469 277 17 148 325 430 201 128 127 343 28 98 438 371 219 117 311 298 286 446 304 409 278 231 299 49 315 101 449 187 189 289 350 122 109 13 346 210 157 185 53 323 209 428 362 90 15 322 131 452 56 193 272 64 37 401 240 78 491 324 97 354 484 212 423 393 319 62 468 153 373 146 197 249 1 341 2 365 437 142 8 63 44 230 66 215 220 270 224 171 198 302 108 71 202 367 366 309 45 283 331 250 481 464 414 336 174 124 195 241 273 269 253 383 483 308 192 303 194 453 348 316 60 477 82
TEST2 = ./${NAME} -3 4 12 33 77 || true

all: ${NAME} clean
#	-${TEST2}
	${TEST1}

${NAME}: ${OBJ} ${LIBFTA}
	@-cc -g ${CFLAGS} ${OBJ} -L ${LIBFT} -lft -o ${NAME}

${OBJ}: ${SRC}
	@- cc -g -c ${CFLAGS} ${SRC}

${LIBFTA}:
	@- ${MAKE} -C ${LIBFT} bonus clean
	touch ${LIBFTA}

clean:
#@ ${MAKE} -C ${LIBFT} clean
	@- rm -f ${OBJ}

fclean: clean
	@ ${MAKE} -C ${LIBFT} fclean
	rm -f ${NAME} ${LIBFTA}

re: fclean all

val:
	@valgrind -s --leak-check=yes --show-leak-kinds=all --track-origins=yes ${TEST1}

run:
	./${NAME}